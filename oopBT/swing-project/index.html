<!DOCTYPE html><html><head>
      <title>readme</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\HAIZUKA\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.7.10\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px/2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      <div align="center">
<h1>Kết hợp Java Swing và thao tác với cơ sở dữ liệu</h1>
</div>
      </div>
      
      <div class="col-lg-9 post"><div itemprop="image" itemscope="" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://media.techmaster.vn/api/static/bq0a8rs51co78aldi4p0/jsyJ_i91"><meta itemprop="width" content="800"><meta itemprop="height" content="800"></div><h1 class="margin-bottom-15">Hướng dẫn sử dụng JDBC kết nối cơ sở dữ liệu trong Java</h1><div class="margin-bottom-15">07 tháng 03, 2022 - 27467 lượt xem</div><div class="categories margin-bottom-15"> <a href="/posts?keyword=&amp;category=bpnjjev0k7qvdrn8hg50" style="text-decoration: none"><span class="badge category">Java nâng cao</span> </a> <a href="/posts?keyword=&amp;category=553" style="text-decoration: none"><span class="badge category">MySQL</span> </a> <a href="/posts?keyword=&amp;category=bkhdci451cofuk9m7n20" style="text-decoration: none"><span class="badge category">Java</span> </a></div><article class="techmaster-font-open-sans post-content" id="post-details"><p>Hiện nay hầu hết các ứng dụng Java hay các framework của nó đều dần chuyển sang các ORM(Object Relational Mapping) để làm việc với database, có thể kể đến là hibernate được sử dụng rộng rãi. Thế nên mọi người có xu hướng dần quên đi JDBC, thế nhưng các bạn có biết rằng bên dưới hibernate đang sử dụng JDBC để để kết nối đến database và thực thi các lệnh SQL được nó tạo ra.</p><p>Trong loạt bài viết này, chúng ta sẽ cùng tìm hiểu về JDBC và cách sử dụng chúng.</p><h2>JDBC là gì?</h2><p>JDBC - Java Database Connectivity, là một API chuẩn để kết nối giữa ngôn ngữ lập trình Java và các database. Nó là một phần của JavaSE (Java Standard Edition). API JDBC sử dụng JDBC drivers để kết nối với cơ sở dữ liệu.</p><h2>Kiến trúc JDBC</h2><p><img src="https://media.techmaster.vn/api/static/bq0a8rs51co78aldi4p0/diuws9Lf" alt=""></p><ul><li>JDBC API: Cho phép chương trình Java thực thi các câu lệnh SQL và truy xuất kết quả. Một số lớp và interface quan trọng được định nghĩa trong JDBC API như sau:</li><li>DriverManager: Đóng vai trò quan trọng trong kiến trúc JDBC. Nó sử dụng một số quy trình điều khiển dành riêng cho cơ sở dữ liệu để kết nối hiệu quả các ứng dụng doanh nghiệp với database</li><li>JDBC Driver: Để giao tiếp với nguồn dữ liệu thông qua JDBC, bạn cần JDBC Driver để giao tiếp với nguồn dữ liệu tương ứng. Có 4 loại JDBC drivers:<ul><li>JDBC - ODBC Bridge Driver</li><li>Native Drive</li><li>Network Protocol Driver</li><li>Thin driver</li></ul></li></ul><h2>Các thành phần chính trong JDBC</h2><ul><li>DriverManager: Là một class dùng để quản lý danh sách các Driver</li><li>Driver: Là một interface, chịu trách nhiệm xử lý các hoạt động giao tiếp giữa ứng dụng và database</li><li>Connection: Là một interface, cung cấp các phương thức cho việc thao tác với database</li><li>Statement: Là một interface, để thực thi các câu lệnh SQL xuống database</li><li>ResultSet: Là một bảng dữ liệu mà biểu diễn tập kết quả từ cơ sở dữ liệu trả về bởi các lệnh SQL</li><li>SQLException: Xử lý ngoại lệ xảy ra trong database</li></ul><h2>Các bước kết nối database với Java</h2><ul><li>Load driver</li><li>Tạo kết nối (Create Connection)</li><li>Tạo câu lệnh truy vấn SQL (Statement)</li><li>Thực thi câu lệnh truy vấn SQL (Excute query)</li><li>Đóng kết nối (Close Connection)</li></ul><h2>Tạo project ví dụ JDBC</h2><h3>Chuẩn bị database</h3><p>Trong ví dụ này mình sẽ sử dụng MySQL. Mình có một bảng <code>users</code> với cấu trúc sau:</p><p><img src="https://media.techmaster.vn/api/static/bq0a8rs51co78aldi4p0/GMRJHBhE" alt=""></p><p>Thêm một số dữ liệu vào bảng users</p><p><img src="https://media.techmaster.vn/api/static/bq0a8rs51co78aldi4p0/7X5KyJ13" alt=""></p><h3>Cài đặt thư viện</h3><p>Ở đây mình sẽ sử dụng Maven để quản lý chương trình Java</p><p>Add 2 <code>dependency</code> vào file pom.xml</p><div><pre><code class="hljs language-xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc10 --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.oracle.database.jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ojdbc10<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>19.13.0.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.28<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

</code></pre><span class="mdi mdi-content-copy"></span></div><p>Nếu bạn sử dụng database khác thay vì MySQL thì hãy sử dụng các <code>dependency</code> khác</p><h3>Tạo kết nối tới database</h3><p>Để có thể kết nối tới database chúng ta cần chuẩn bị các thông tin như: hostname, username, password, database</p><div><pre><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConnectJDBC</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">hostName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"localhost:8082"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">dbName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"my_database"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> <span class="hljs-string">"root"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> <span class="hljs-string">"123"</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">connectionURL</span> <span class="hljs-operator">=</span> <span class="hljs-string">"jdbc:mysql://"</span>+hostName+<span class="hljs-string">"/"</span>+dbName;

    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">connect</span><span class="hljs-params">()</span>{
        <span class="hljs-comment">//Tạo đối tượng Connection</span>
        <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

        <span class="hljs-keyword">try</span> {
            conn = DriverManager.getConnection(connectionURL, username, password);
            System.out.println(<span class="hljs-string">"Kết nối thành công"</span>);
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            e.printStackTrace();
        }

        <span class="hljs-keyword">return</span> conn;
    }
}

</code></pre><span class="mdi mdi-content-copy"></span></div><h3>Sử dụng JDBC API để truy vấn dữ liệu</h3><p><em><strong>Lấy ra toàn bộ thông tin users</strong></em></p><div><pre><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ConnectJDBC</span> <span class="hljs-variable">connectJDBC</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectJDBC</span>();
        <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> connectJDBC.connect();

        <span class="hljs-type">String</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM users"</span>;

        <span class="hljs-type">Statement</span> <span class="hljs-variable">stm</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">//Tạo đối tượng Statement</span>
            stm = conn.createStatement();

            <span class="hljs-comment">//Thực thi truy vấn và trả về đối tượng ResultSet</span>
            <span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> stm.executeQuery(query);

            <span class="hljs-comment">//Duyệt kết quả trả về</span>
            <span class="hljs-keyword">while</span> (rs.next()){  <span class="hljs-comment">//Di chuyển con trỏ xuống bản ghi kế tiếp</span>
                <span class="hljs-type">int</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> rs.getInt(<span class="hljs-string">"id"</span>);
                <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> rs.getString(<span class="hljs-string">"username"</span>);
                <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> rs.getString(<span class="hljs-string">"password"</span>);
                <span class="hljs-type">String</span> <span class="hljs-variable">email</span> <span class="hljs-operator">=</span> rs.getString(<span class="hljs-string">"email"</span>);

                System.out.println(id + <span class="hljs-string">" - "</span> + username + <span class="hljs-string">" - "</span> + password + <span class="hljs-string">" - "</span> + email);
            }
            <span class="hljs-comment">//Đóng kết nối</span>
            conn.close();
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            e.printStackTrace();
        }

    }
}

</code></pre><span class="mdi mdi-content-copy"></span></div><p>Kết quả:</p><div><pre><code class="hljs language-java">Kết nối thành công
<span class="hljs-number">1</span> - ngoc - <span class="hljs-number">12345</span> - ngoc<span class="hljs-meta">@gmail</span>.com
<span class="hljs-number">2</span> - hoang - <span class="hljs-number">12345</span> - hoang<span class="hljs-meta">@gmail</span>.com
<span class="hljs-number">3</span> - linh - <span class="hljs-number">12345</span> - linh<span class="hljs-meta">@gmail</span>.com
<span class="hljs-number">4</span> - quan - <span class="hljs-number">12345</span> - quan<span class="hljs-meta">@gmail</span>.com

</code></pre><span class="mdi mdi-content-copy"></span></div><p><em><strong>Chỉ định tham số đầu vào với PreparedStatement</strong></em></p><p>Tham số được đại diện bởi dấu ?, bạn phải cung cấp giá trị cho tất cả các tham số trước khi thực hiện câu lệnh SQL. Mỗi tham số sẽ được đánh dấu bằng số thứ tự, tham số đầu tiên có vị trí là 1, kế tiếp là 2,…</p><div><pre><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ConnectJDBC</span> <span class="hljs-variable">connectJDBC</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectJDBC</span>();
        <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> connectJDBC.connect();

        <span class="hljs-type">String</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM users WHERE username = ?"</span>;

        <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">pstm</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">//Tạo đối tượng Statement</span>
            pstm = conn.prepareStatement(query);

            <span class="hljs-comment">//gán các giá trị vào tham số</span>
            pstm.setString(<span class="hljs-number">1</span>, <span class="hljs-string">"ngoc"</span>);

            <span class="hljs-comment">//Thực thi truy vấn và trả về đối tượng ResultSet</span>
            <span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> pstm.executeQuery();

            <span class="hljs-comment">//Duyệt kết quả trả về</span>
            <span class="hljs-keyword">while</span> (rs.next()){
                <span class="hljs-type">int</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> rs.getInt(<span class="hljs-string">"id"</span>);
                <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> rs.getString(<span class="hljs-string">"username"</span>);
                <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> rs.getString(<span class="hljs-string">"password"</span>);
                <span class="hljs-type">String</span> <span class="hljs-variable">email</span> <span class="hljs-operator">=</span> rs.getString(<span class="hljs-string">"email"</span>);

                System.out.println(id + <span class="hljs-string">" - "</span> + username + <span class="hljs-string">" - "</span> + password + <span class="hljs-string">" - "</span> + email);
            }

            <span class="hljs-comment">//Đóng kết nối</span>
            conn.close();
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            e.printStackTrace();
        }
    }
}

</code></pre><span class="mdi mdi-content-copy"></span></div><p>Kết quả:</p><div><pre><code class="hljs language-css">Kết nố<span class="hljs-selector-tag">i</span> <span class="hljs-selector-tag">th</span>ành công
<span class="hljs-number">1</span> - ngoc - <span class="hljs-number">12345</span> - ngoc<span class="hljs-keyword">@gmail</span>.com

</code></pre><span class="mdi mdi-content-copy"></span></div><p><em><strong>Thêm dữ liệu mới</strong></em></p><div><pre><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ConnectJDBC</span> <span class="hljs-variable">connectJDBC</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectJDBC</span>();
        <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> connectJDBC.connect();

        <span class="hljs-type">String</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> <span class="hljs-string">"INSERT INTO users(id, username, password, email) "</span> +
                <span class="hljs-string">"VALUES (null, ?,?,?)"</span>;

        <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">pstm</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            pstm = conn.prepareStatement(query);

            pstm.setString(<span class="hljs-number">1</span>, <span class="hljs-string">"hung"</span>);
            pstm.setString(<span class="hljs-number">2</span>, <span class="hljs-string">"123456789"</span>);
            pstm.setString(<span class="hljs-number">3</span>, <span class="hljs-string">"hung@gmail.com"</span>);

            <span class="hljs-comment">//Khi thực hiện các lệnh insert/update/delete sử dụng executeUpdate(), nó sẽ trả về số hàng bị tác động</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">row</span> <span class="hljs-operator">=</span> pstm.executeUpdate();
            <span class="hljs-keyword">if</span>(row != <span class="hljs-number">0</span>){
                System.out.println(<span class="hljs-string">"Thêm thành công "</span> + row);
            }

            <span class="hljs-comment">//Đóng kết nối</span>
            conn.close();
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            e.printStackTrace();
        }
    }
}

</code></pre><span class="mdi mdi-content-copy"></span></div><p>Kết quả:</p><p><img src="https://media.techmaster.vn/api/static/bq0a8rs51co78aldi4p0/aZ8GhGip" alt=""></p><p><em><strong>Update password</strong></em></p><div><pre><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ConnectJDBC</span> <span class="hljs-variable">connectJDBC</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectJDBC</span>();
        <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> connectJDBC.connect();

        <span class="hljs-type">String</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> <span class="hljs-string">"UPDATE users SET password = ? WHERE id = ?"</span>;

        <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">pstm</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            pstm = conn.prepareStatement(query);

            pstm.setString(<span class="hljs-number">1</span>, <span class="hljs-string">"ngoc123"</span>);
            pstm.setInt(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>);

            <span class="hljs-comment">//Khi thực hiện các lệnh insert/update/delete sử dụng executeUpdate, nó sẽ trả về số hàng bị tác động</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">row</span> <span class="hljs-operator">=</span> pstm.executeUpdate();
            <span class="hljs-keyword">if</span>(row != <span class="hljs-number">0</span>){
                System.out.println(<span class="hljs-string">"Cập nhật thành công "</span> + row);
            }

            <span class="hljs-comment">//Đóng kết nối</span>
            conn.close();
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            e.printStackTrace();
        }
    }
}

</code></pre><span class="mdi mdi-content-copy"></span></div><p>Kết quả:</p><p><img src="https://media.techmaster.vn/api/static/bq0a8rs51co78aldi4p0/jatoTZ3m" alt=""></p><p><em><strong>Xóa một record</strong></em></p><div><pre><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ConnectJDBC</span> <span class="hljs-variable">connectJDBC</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectJDBC</span>();
        <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> connectJDBC.connect();

        <span class="hljs-type">String</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> <span class="hljs-string">"DELETE FROM users WHERE id = ?"</span>;

        <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">pstm</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            pstm = conn.prepareStatement(query);

            pstm.setInt(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);

            <span class="hljs-comment">//Khi thực hiện các lệnh insert/update/delete sử dụng executeUpdate, nó sẽ trả về số hàng bị tác động</span>
            <span class="hljs-type">int</span> <span class="hljs-variable">row</span> <span class="hljs-operator">=</span> pstm.executeUpdate();
            <span class="hljs-keyword">if</span>(row != <span class="hljs-number">0</span>){
                System.out.println(<span class="hljs-string">"Xóa thành công "</span> + row);
            }

            <span class="hljs-comment">//Đóng kết nối</span>
            conn.close();
        } <span class="hljs-keyword">catch</span> (SQLException e) {
            e.printStackTrace();
        }
    }
}

</code></pre><span class="mdi mdi-content-copy"></span></div><p>Kết quả:</p><p><img src="https://media.techmaster.vn/api/static/bq0a8rs51co78aldi4p0/tgQfSIni" alt=""></p><p><em>Xem toàn bộ code tại <a href="https://github.com/EriChannel/JavaCore/tree/main/04_Complex_Topics/01_Connect_Database/demo-jdbc" rel="nofollow">đây</a></em></p><blockquote><p>Khóa học Java FullStack dành cho người mới bắt đầu</p><p>Chi tiết: <a href="https://java.techmaster.vn/" rel="nofollow">https://java.techmaster.vn/</a></p><p>Liên hệ hỗ trợ: Ms Mẫn - 0963023185 (zalo)</p></blockquote> </article><textarea title="clipboardHolder" name="clipboardHolder" id="clipboardHolder" cols="0" rows="0">
                    </textarea> <div class="post-comments"><h2 class="title-comments-box">Bình luận</h2><div class="list-cmt"></div><div class="comments-box" id="writeComment"> <span class="note">* Vui lòng <span class="show-modal-login">đăng nhập</span> trước khi bình luận.</span><div class="comment"><div class="comment-author-avatar"><img src="/resources/image/logo.jpg" alt="Ảnh đại diện"></div><div class="comment-author-content"><textarea class="cmts-area" placeholder="Viết bình luận..." data-autoresize="" onkeyup="UpdateContentCmt(this,e)" disabled="disabled"></textarea></div></div></div></div><div class="interaction-div-mobile"><div class="interaction-div-mobile-item"><span class="liked-post-mobile interaction-like" onclick="LikePost()"><i class="fas fa-thumbs-up" style="color: #5E5E5E;"></i> </span>&nbsp; <span class="vote-score" style="font-size: 1rem">+6</span> Thích</div><div class="interaction-div-mobile-item"><a class="share-facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://techmaster.vn/posts/36976/huong-dan-su-dung-jdbc-ket-noi-co-so-du-lieu-trong-java"><button class="btn btn-primary" style="background-color: #2b4d8d; padding: 0.25rem 0.75rem"><i class="fab fa-facebook-square"></i> &nbsp;Chia sẻ</button></a></div></div></div>
    
    
    
    
    
    
  
    </body></html>
